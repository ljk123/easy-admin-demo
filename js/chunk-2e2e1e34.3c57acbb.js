(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2e1e34"],{ba41:function(t,a,e){"use strict";var l=e("ecd8"),i=e.n(l);i.a},ecd8:function(t,a,e){},fa20:function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"collection"},[e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogFormVisible},on:{"update:visible":function(a){t.dialogFormVisible=a},open:t.handleOpenDialog}},[e("el-form",{ref:"ruleForm",attrs:{model:t.dialogData,rules:t.rules,"status-icon":""}},[e("el-form-item",{attrs:{label:"标题","label-width":"90px",prop:"title"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.dialogData.title,callback:function(a){t.$set(t.dialogData,"title",a)},expression:"dialogData.title"}})],1),e("el-form-item",{attrs:{label:"所属分类","label-width":"90px",prop:"cid"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dialogData.cid,callback:function(a){t.$set(t.dialogData,"cid",a)},expression:"dialogData.cid"}},t._l(t.cates,function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1),e("el-form-item",{attrs:{label:"作者","label-width":"90px",prop:"author"}},[e("el-input",{attrs:{autocomplete:"off",size:"mini"},model:{value:t.dialogData.author,callback:function(a){t.$set(t.dialogData,"author",a)},expression:"dialogData.author"}})],1),e("el-form-item",{attrs:{label:"状态","label-width":"90px",prop:"status"}},[e("el-checkbox",{model:{value:t.dialogData.status,callback:function(a){t.$set(t.dialogData,"status",a)},expression:"dialogData.status"}},[t._v("生效")])],1),e("el-form-item",{attrs:{label:"内容","label-width":"90px",prop:"content"}},[e("mavon-editor",{model:{value:t.dialogData.content,callback:function(a){t.$set(t.dialogData,"content",a)},expression:"dialogData.content"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.submitDialogForm}},[t._v("确 定")])],1)],1),e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("添加")]),e("div",{staticClass:"table-box grid-content bg-white"},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"tooltip-effect":"dark"}},[e("el-table-column",{attrs:{fixed:"",label:"序号",type:"index",width:"55",align:"center"}}),e("el-table-column",{attrs:{fixed:"",prop:"title",label:"标题",width:"100",align:"center"}}),e("el-table-column",{attrs:{prop:"cate_name",label:"所属分类",width:"180",align:"center"}}),e("el-table-column",{attrs:{prop:"status_word",label:"状态",width:"60",align:"center"}}),e("el-table-column",{attrs:{prop:"create_time_format",label:"创建时间",width:"180",align:"center"}}),e("el-table-column",{attrs:{prop:"update_time_format",label:"更新时间",width:"180",align:"center"}}),e("el-table-column",{attrs:{label:"操作",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.handleEdit(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){t.handleDelete(a.$index,a.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},i=[],o=(e("cadf"),e("551c"),e("097d"),e("d722")),n={name:"Collection",data:function(){return{tableData:[],dialogFormVisible:!1,dialogTitle:"",dialogData:{},checkStrictly:!1,cates:[],rules:{title:[{required:!0,message:"请输入分组名称",trigger:"blur"}]}}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;o["a"].articleLists().then(function(a){var e=a.data;0!=e.status?t.tableData=e.data:t.$message({message:e.msg,duration:3e3,type:"error"})})},handleDelete:function(t,a){var e=this;this.$confirm("是否删除"+a.title+"?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o["a"].delArticle(a.id).then(function(a){var l=a.data;0!=l.status?e.tableData.splice(t,1):e.$message({message:l.msg,duration:3e3,type:"error"})})})},handleEdit:function(t){this.dialogFormVisible=!0,this.dialogTitle="修改文章",this.dialogData={id:t.id,title:t.title,cid:t.cid,content:t.content,author:t.author,status:1===t.status}},handleAdd:function(){this.dialogFormVisible=!0,this.dialogTitle="新增文章",this.dialogData={title:"",cid:"",content:"",author:"",status:!0}},handleOpenDialog:function(){var t=this;0!==this.cates.length||o["a"].articleCateLists().then(function(a){var e=a.data;0!=e.status?(t.cates=e.data,t.handleOpenDialog()):t.$message({message:e.msg,duration:3e3,type:"error"})})},submitDialogForm:function(){var t=this;this.$refs.ruleForm.validate(function(a){if(a){var e={};e.title=t.dialogData.title,e.cid=t.dialogData.cid,e.content=t.dialogData.content,e.author=t.dialogData.author,e.status=t.dialogData.status?1:0,e.id=t.dialogData.id||0,o["a"].saveArticle(e).then(function(a){var e=a.data;0!=e.status?(t.dialogFormVisible=!1,t.getList()):t.$message({message:e.msg,duration:3e3,type:"error"})})}})}}},s=n,r=(e("ba41"),e("2877")),c=Object(r["a"])(s,l,i,!1,null,null,null);c.options.__file="Article.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2e2e1e34.3c57acbb.js.map